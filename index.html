<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CINÃ‰ LK10</title>
    
    <link rel="icon" type="image/png" href="images/cinÃ©-lk10-logo-sans-fond.png"> 
    
    <link rel="stylesheet" href="styles.css"> 
</head>
<body>

    <div id="cover-page">
        <p>clique pour entrÃ©e...</p>
    </div>

    <video autoplay muted loop playsinline id="background-video">
        <source src="images/edit.mp4" type="video/mp4">
        Votre navigateur ne supporte pas la balise vidÃ©o.
    </video>
    
    <div class="profile-container">
        
        <div class="main-profile-picture">
            <img src="images/standard.gif" alt="Photo de Profil">
        </div>
        
        <h1>CINÃ‰ LK10</h1>

        <div class="secondary-info-box">
            <img src="images/cinÃ©-lk10-logo-sans-fond.png" alt="Logo/GIF" class="secondary-logo">
            <div class="secondary-text">
                <span class="secondary-pseudo">CINÃ‰ LK10</span>
                <span class="secondary-description">ðŸŽ¥ FILMâ€¢SÃ‰RIEâ€¢ANIME ! ðŸŽ¥</span>
            </div>
        </div>
        
        <div class="social-links">
            <a href="https://discord.gg/79vmBkJnVA" target="_blank">
                <img src="images/icons8-discorde-50.png" alt="Discord">
            </a>
        </div>

        </div>

    <audio id="background-audio" loop muted>
        <source src="images/music.m4a" type="audio/mp3">
        Votre navigateur ne supporte pas la balise audio.
    </audio>
    
    <div id="volume-control-wrapper">
        
        <img id="volume-mute-toggle" src="images/icons8-son-50.png" alt="ContrÃ´le Volume">
        
        <div id="volume-slider-bar">
             <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="0.5">
        </div>
    </div>

    <script>
        const audio = document.getElementById('background-audio');
        const coverPage = document.getElementById('cover-page');
        const volumeMuteToggle = document.getElementById('volume-mute-toggle'); 
        const volumeSlider = document.getElementById('volume-slider');
        
        // Chemins des icÃ´nes
        const ICON_ON = 'images/icons8-son-50.png';
        const ICON_MUTE = 'images/icons8-mute-50.png';
        
        audio.volume = 0.5; 
        let lastVolume = 0.5;
        
        // **********************************
        // 1. GESTION DE L'ENTRÃ‰E ET DE L'AUDIO
        // **********************************
        
        function enterPage() {
            // 1. DÃ©marrer la musique
            audio.muted = false; 
            audio.play().catch(error => {
                console.log("Ã‰chec du lancement audio aprÃ¨s le clic.");
            });
            
            // 2. Masquer la page de couverture
            coverPage.style.opacity = '0';
            setTimeout(() => {
                coverPage.style.display = 'none';
            }, 500);

            coverPage.removeEventListener('click', enterPage);
            coverPage.removeEventListener('touchstart', enterPage);
        }

        coverPage.addEventListener('click', enterPage);
        coverPage.addEventListener('touchstart', enterPage);
        
        // **********************************
        // 2. GESTION DU VOLUME ET DU MUTE
        // **********************************
        
        volumeSlider.addEventListener('input', (e) => {
            const newVolume = parseFloat(e.target.value);
            audio.volume = newVolume;
            
            audio.muted = false;
            
            volumeMuteToggle.src = newVolume > 0 ? ICON_ON : ICON_MUTE;
            
            lastVolume = newVolume;
        });

        volumeMuteToggle.addEventListener('click', () => {
            if (audio.muted) {
                audio.volume = lastVolume > 0 ? lastVolume : 0.5;
                volumeSlider.value = audio.volume;
                audio.muted = false;
                volumeMuteToggle.src = ICON_ON;
            } else {
                lastVolume = audio.volume; 
                audio.muted = true;
                volumeSlider.value = 0;
                volumeMuteToggle.src = ICON_MUTE;
            }
        });
    </script>
</body>
</html>
